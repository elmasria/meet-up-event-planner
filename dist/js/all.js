function initAutocomplete(){autocomplete=new google.maps.places.Autocomplete(document.getElementById("event_Location"),{types:["geocode"]}),autocomplete.addListener("place_changed",fillInAddress)}function fillInAddress(){var e=autocomplete.getPlace();for(var t in componentForm)document.getElementById(t).value="",document.getElementById(t).disabled=!1;for(var r=0;r<e.address_components.length;r++){var n=e.address_components[r].types[0];if(componentForm[n]){var a=e.address_components[r][componentForm[n]];document.getElementById(n).value=a}}}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude},r=new google.maps.Circle({center:t,radius:e.coords.accuracy});autocomplete.setBounds(r.getBounds())})}var placeSearch,autocomplete,componentForm={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"};$(document).ready(function(){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};e.any()||$('[data-toggle="tooltip"]').tooltip(),$("#user_password").on("blur",function(){$("#listOfErrors").fadeOut("slow")}),$("#user_password").on("focus",function(){$("#listOfErrors").fadeIn("slow")})}),angular.module("EventPlanner",["ngRoute"]),angular.module("EventPlanner").config(function(e){e.when("/home",{templateUrl:"/templates/event/show.html"}).when("/register",{templateUrl:"/templates/user/register.html"}).when("/create-event",{templateUrl:"/templates/event/new.html"}).otherwise({redirectTo:"/register"})}),angular.module("EventPlanner").controller("EventNewController",function(){var e=this;e.errorMessage="",e.preventEvent=function(e){e.preventDefault()}}),angular.module("EventPlanner").controller("EventShowController",function(){}),angular.module("EventPlanner").controller("RegistrationController",function(e,t){var r=this;r.proceed=!0,r.color="panel-default",r.progressPercent=0,r.errorMessage="";var n=new RegExp(/[\!\@\#\$\%\^\&\*]/g),a=new RegExp(/\d/g),o=new RegExp(/[a-z]/g),l=new RegExp(/[A-Z]/g),s=new RegExp(/[^A-z0-9\!\@\#\$\%\^\&\*]/g),i=new RegExp(/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i);r.validationProcess=function(){var e=!1,t=r.checkRequiredField(r.fname),n=r.checkRequiredField(r.lname),a=r.checkRequiredField(r.email,!1,!0),o=r.checkRequiredField(r.password,!0);e=t&&n&&a&&o?!0:!1,e?(r.color="panel-success",r.proceed=!1):(r.color="panel-warning",r.proceed=!0)},r.checkProgressBar=function(e,t,n){var a=e.target.value,o=e.target.value.length,l=null===e.target.getAttribute("data-changed"),s=!0;if(t){s=!1;var i=m(a);s=i.validity;var u=i.message.split("ahmadSplit");u=u.slice(0,-1),r.errorMessage=u,c(l,s,e,!0,"")}else n?(s=!1,s=d(a),c(l,s,e,!0,"")):s=!0;0!==o&&l&&s&&(r.progressPercent+=25,g(e,!1)),c(l,s,e,!1,o)},r.checkRequiredField=function(e,t,r){return"undefined"!=typeof e?t?m(e).validity:r?d(e):!0:!1};var c=function(e,t,n,a,o){a?e||t||(r.progressPercent-=25,g(n,!0)):0===o&&!e&&t&&(r.progressPercent-=25,g(n,!0))},d=function(e){return e.match(i)?!0:!1},m=function(e){var t="",r=!0;e.length<8&&(r=!1,t+="less than 8 characters ahmadSplit"),e.match(n)||(r=!1,t+="missing a symbol (!, @, #, $, %, ^, &, *) ahmadSplit"),e.match(a)||(r=!1,t+="missing a number ahmadSplit"),e.match(o)||(r=!1,t+="missing an lowercase letter:"),e.match(l)||(r=!1,t+="missing an uppercase letter ahmadSplit");var i=e.match(s);return i&&(i.forEach(function(e){t+="includes illegal character: "+e+"ahmadSplit"}),r=!1),r&&(r=!0),{validity:r,message:t}},g=function(e,t){for(var r=[],n=e.target.parentElement.children,a=0;a<n.length;a++)"SPAN"===n[a].nodeName&&r.push(a);t?(e.target.parentElement.classList.remove("has-success"),e.target.parentElement.classList.add("has-error"),e.target.parentElement.children[r[0]].classList.remove("glyphicon-ok"),e.target.parentElement.children[r[0]].classList.add("glyphicon-remove"),e.target.parentElement.children[r[1]].innerHTML="(error)",e.target.removeAttribute("data-changed")):(e.target.parentElement.classList.add("has-success"),e.target.parentElement.classList.remove("has-error"),e.target.parentElement.children[r[0]].classList.add("glyphicon-ok"),e.target.parentElement.children[r[0]].classList.remove("glyphicon-remove"),e.target.parentElement.children[r[1]].innerHTML="(success)",e.target.setAttribute("data-changed","yes"))};r.addUser=function(){var n;n=localStorage.getItem("EventPlanerDB")?JSON.parse(localStorage.getItem("EventPlanerDB")):{users:[],events:[],loggedInUser:""};for(var a='{"firstName":"'+r.fname+'","lastName":"'+r.lname+'","email":"'+r.email+'","password":"'+r.password+'","dateOfBirth":"'+("undefined"==typeof r.dateOfBirth?"":r.dateOfBirth)+'","companyName":"'+("undefined"==typeof r.companyName?"":r.companyName)+'","countryName":"'+("undefined"==typeof r.countryName?"":r.countryName)+'","gender":"'+("undefined"==typeof r.gender?"":r.gender)+'","biography":"'+("undefined"==typeof r.biography?"":r.biography)+'"}',o=[],l=0;l<n.users.length;l++)o.push(JSON.parse(n.users[l]).email);var s=e("filter")(o,r.email);s.length>0?(r.ErroUserExist=r.email+" already exist !",r.showError=!0,$("html,body").animate({scrollTop:0},"slow")):(r.ErroUserExist="",r.showError=!1,n.users.push(a),n.loggedInUser=r.email,localStorage.setItem("EventPlanerDB",JSON.stringify(n)),t.path("/home"))}});